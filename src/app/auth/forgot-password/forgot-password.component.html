<div class="forgot-password-component">

  <div class="wrapper">
    <!-- Back Button -->
    <button class="back-btn" (click)="goBackToLogin()">
      <fa-icon [icon]="faArrowLeft"></fa-icon> {{ 'BACK_LOGIN' | translate }}
    </button>

    <div class="form-container">
      <div class="form-inner">
        <div class="forgot-pass-form">
          <!-- Dynamic Heading & Description -->
          <h2>{{ getHeading() }}</h2>
          <div class="info-text">{{ getDescription() }}</div>

          <!-- Step 1: Enter Email -->
          <form *ngIf="!codeSent" (submit)="sendResetCode()">
            <div class="field">
              <input type="email" [(ngModel)]="email" name="email" placeholder="{{ 'EMAIL' | translate }}" required>
            </div>
            <div class="field btn">
              <div class="btn-layer"></div>
              <input type="submit" value="{{ 'SEND_RESET_CODE' | translate }}" [disabled]="isLoading">
            </div>
            <div class="loading" *ngIf="isLoading">Sending reset code...</div>
          </form>

          <!-- Step 2: Enter Code -->
          <form *ngIf="codeSent && !codeVerified" (submit)="verifyCode()">
            <div class="field">
              <input type="text" [(ngModel)]="resetCode" name="resetCode" placeholder="{{ 'ENTER_RESET_CODE' | translate }}" required>
            </div>
            <div class="field btn">
              <div class="btn-layer"></div>
              <input type="submit" value="{{ 'VERIFY_CODE' | translate }}">
            </div>
          </form>

          <!-- Step 3: Reset Password -->
          <form *ngIf="codeVerified" (submit)="resetPassword()">
            <div class="field">
              <input type="password" [(ngModel)]="newPassword" name="newPassword" placeholder="{{ 'NEW_PASSWORD' | translate }}" required>
            </div>
            <div class="field btn">
              <div class="btn-layer"></div>
              <input type="submit" value="{{ 'RESET_PASSWORD' | translate }}">
            </div>
          </form>

          <p class="error-message" *ngIf="errorMessage">{{ errorMessage }}</p>
        </div>
      </div>
    </div>

  </div>
</div>


