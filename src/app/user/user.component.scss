$black:     #000000;
$dark:      #222428;
$darker:    #1e1e1e;
$light:     #ffffff;
$primary:   #4d8dff;
$secondary: #555;

$mobile-nav-height: 56px;
$app-header-height: 64px;

/* MOBILE NAV (floating) */
.mobile-nav {
  display: none;

  .mobile-menu-btn {
    width: 46px;
    height: 40px;
    border-radius: 10px;
    border: 1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.06);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px;
    flex-direction: column;
    padding: 0;
    cursor: pointer;

    .line {
      width: 20px;
      height: 2px;
      background: rgba(255,255,255,.92);
      border-radius: 2px;
      transition: transform .18s ease, opacity .18s ease, width .18s ease;
    }

    &.is-open {
      .line:nth-child(1) { transform: translateY(8px) rotate(45deg); }
      .line:nth-child(2) { opacity: 0; width: 0; }
      .line:nth-child(3) { transform: translateY(-8px) rotate(-45deg); }
    }
  }

  @media (max-width: 991.98px) {
    display: flex;
    align-items: center;

    position: fixed;
    top: $app-header-height;
    left: 0;
    right: 0;
    height: $mobile-nav-height;

    padding: .35rem .75rem;
    background: rgba(34, 36, 40, .92);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,.08);

    z-index: 2000; // ✅ над content/backdrop
  }

  .navbar-toggler {
    border-color: rgba(255, 255, 255, .4);
  }

  .navbar-toggler-icon {
    opacity: .95;
  }
}

/* ===== MAIN LAYOUT ===== */

.user-wrap {
  display: flex;
  min-height: 93.3vh;
  background: $black;
  color: $secondary;
  overflow-y: auto;

  /* на мобилен треба да има простор за fixed mobile-nav */
  @media (max-width: 991.98px) {
    padding-top: $mobile-nav-height;
  }
}

.content {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  transition: margin-left .3s ease;

  .main-header-wrap {
    background-color: #262a32;
    padding: 1.3rem 0.75rem;
    flex: 0 0 auto;
    box-shadow: 0 0 18px rgba(0, 0, 0, .55);
  }

  .main-router-wrap {
    padding: 1rem;
    background-color: $dark;
    flex: 1 1 auto;
    overflow-y: auto;
    box-shadow: 0 0 18px rgba(0, 0, 0, .55);
  }

  .main-footer-wrap {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: $darker;
    padding: 0.35rem 0.75rem;
    flex: 0 0 auto;
    box-shadow: 0 0 18px rgba(0, 0, 0, .55);
  }
}

/* Sidebar offsets (desktop) */
app-sidebar.open ~ .user-wrap .content {
  margin-left: 240px;
}

app-sidebar.closed ~ .user-wrap .content {
  margin-left: 60px;
}

/* На мобилен sidebar не поместува content */
@media (max-width: 991.98px) {
  app-sidebar ~ .user-wrap .content {
    margin-left: 0 !important;
  }
}
