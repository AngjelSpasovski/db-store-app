$dark:   #222428;
$darker: #1e1e1e;
$light:  #ffffff;
$primary-blue: #00509e;

$header-total-height: 64px;
$header-total-height-margin: 75px;

/* –ö–æ–≥–∞ –µ –æ—Ç–≤–æ—Ä–µ–Ω –º–æ–±–∏–ª–Ω–∏–æ—Ç sidebar */
body.sb-overlay-active {
  /* –≥–∏ –¥–∏–º–∏/–∑–∞–º–∞—Ç—É–≤–∞ –æ–±–≤–∏–≤–∫–∏—Ç–µ */
  .main-header-wrap,
  .main-router-wrap,
  .main-footer-wrap,
  app-header,
  .header-user {
    filter: blur(1.5px) brightness(0.75);
    transition: filter .18s ease, opacity .18s ease;
    pointer-events: none;   /* üö´ –±–ª–æ–∫–∏—Ä–∞ –∫–ª–∏–∫–æ–≤–∏ */
    user-select: none;
  }
}


.sidebar {
  position: fixed;
  top: $header-total-height;
  bottom: 0;
  left: 0;
  width: 240px;
  height: calc(100vh - #{$header-total-height-margin});
  overflow: hidden;
  transition: width .3s ease, transform .3s ease;
  margin-top: 2px;
  z-index: 1000;
  //background: $darker;

  // ‚îÄ‚îÄ collapsed (desktop mini)
  &.closed {
    width: 60px;

    // —Å–æ–∫—Ä–∏—ò —Ç–µ–∫—Å—Ç –∏ footer
    .label,
    .sidebar__footer { display: none; }

    // —Ü–µ–Ω—Ç—Ä–∏—Ä–∞—ò –∏–∫–æ–Ω–∏ –∫–æ–≥–∞ –µ –º–∏–Ω–∏
    .sidebar__menu li a {
      justify-content: center;
    }

    // —Å–ø—Ä–µ—á–∏ "–∏—Å–∫–∞—á—É–≤–∞—ö–µ" –ø—Ä–∏ hover –≤–æ –º–∏–Ω–∏ –º–æ–¥
    .sidebar__menu li a:hover {
      width: 100%;
      margin-left: 0;
    }
  }

  &__toggle {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    padding: .5rem;
    background: none;
    border: none;
    color: $light;
    cursor: pointer;
  }

  &__header {
    margin-top: 2px;
    padding: 5px;
    background: $darker;
  }

  &__menu {
    margin: 4px 0;
    list-style: none;
    padding: 5px;
    background: $darker;

    li a {
      display: flex;
      align-items: center;
      gap: .5rem;
      padding: .75rem;
      color: $light;
      text-decoration: none;

      .icon { width: 30px; text-align: center; }
      .label { margin-left: .25rem; }
    }

    li.active a {
      width: 95%;
      margin-left: 5px;
      background: $primary-blue;
      color: $light;
      border-radius: 4px;
    }

    // –º–∞–ª –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞ –∫—Ä–µ–¥–∏—Ç–∏ –≤–æ closed state
  /* ‚îÄ‚îÄ Credits indicator (collapsed) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  li.credits-indicator {
    margin-top: .75rem;
    padding: 6px 0;
    text-align: center;
    background: $dark;
    border-radius: 6px;

    a {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
      width: 100%;
      text-decoration: none;
      /* –∞–∫–æ —Å–∞–∫–∞—à –¥–∞ –µ —Å–∞–º–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω–æ: */
      pointer-events: none;
    }

    .icon {
      display: inline-block;
      font-size: 1.3rem;
      line-height: 1;
      color: $primary-blue;
    }

    .count {
      font-weight: 700;
      font-size: 0.7rem;   /* –≤–∏–¥–ª–∏–≤–æ –∏ —Ç–µ—Å–Ω–æ */
      line-height: 1;
      color: $light;
      letter-spacing: .5px;
    }
  }

  }

  &__footer {
    padding: 1rem;
    font-size: .85rem;
    color: $light !important;
    background: $darker;
  }

  // hover —Å—Ç–∏–ª –≤–æ –Ω–æ—Ä–º–∞–ª–Ω–∞ (open) —Å–æ—Å—Ç–æ—ò–±–∞
  .sidebar__menu li a:hover {
    width: 95%;
    margin-left: 5px;
    background: rgba(255,255,255,.06);
    border-radius: 4px;
  }

  .sidebar__menu li.active a {
    background: linear-gradient(135deg, #00509e, #0a66c2);
    color: #fff;
  }

  .sidebar__menu .icon { font-size: 1.1rem; line-height: 1; }

  /* ‚îÄ‚îÄ Backdrop –ø–æ–¥ sidebar, –Ω–∞–¥ —Å–æ–¥—Ä–∂–∏–Ω–∞—Ç–∞ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ */
  .sidebar-backdrop {
    position: fixed;
    top: 0;                 /* –ø–æ–∫—Ä–∏–≤–∞ –∏ header –∑–∞ –∑–∞—Ç–µ–º–Ω—É–≤–∞—ö–µ; –∞–∫–æ –Ω–µ —Å–∞–∫–∞—à ‚Üí —Å—Ç–∞–≤–∏ $header-total-height */
    left: 0; right: 0; bottom: 0;
    z-index: 900;           /* sidebar –µ 1000 ‚Üí backdrop –ø–æ–¥ sidebar, –Ω–∞–¥ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞ */
    background: rgba(0,0,0,.45);
    backdrop-filter: blur(2px);
    opacity: 0;
    animation: sbFade .18s ease forwards;
    pointer-events: all;    /* –≥–∏ ‚Äû—ò–∞–¥–µ‚Äú –∫–ª–∏–∫–æ–≤–∏—Ç–µ –Ω–∞ –ø–æ–∑–∞–¥–∏–Ω–∞—Ç–∞ */
  }

  @keyframes sbFade { to { opacity: 1; } }

  /* ‚îÄ‚îÄ Mobile off-canvas */
  @media (max-width: 991px) {
    width: 100%;                  // –ø–æ—à–∏—Ä–æ–∫ –Ω–∞ –º–æ–±–∏–ª–µ–Ω
    transform: translateX(-100%); // default: —Å–∫—Ä–∏–µ–Ω
    &.open   { 
      transform: translateX(0);
      background-color: $darker;
      border-right: 1px solid gray;
    }

    &.open .sidebar__header {
      border-bottom: 1px solid gray;
    }

    &.open .sidebar__menu {
      border-bottom: 1px solid gray;
    }

    &.closed { transform: translateX(-100%); }

    // –≤–æ –º–æ–±–∏–ª–µ–Ω, –Ω–µ –∫–æ—Ä–∏—Å—Ç–∏–º–µ mini-width ‚Üí —Ü–µ–ª–æ—Å–Ω–æ off-canvas
    &.closed .sidebar__footer,
    &.closed .label { display: none; }

    .sidebar {
      width: 280px;
      transform: translateX(-100%);
      &.open   { transform: translateX(0); }
      &.closed { transform: translateX(-100%); }
    }
  }
}
